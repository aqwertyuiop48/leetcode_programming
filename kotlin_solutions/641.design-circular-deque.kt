/*
 * @lc app=leetcode id=641 lang=kotlin
 *
 * [641] Design Circular Deque
 */

class CircularDequeNode(var `val`: Int, var next: CircularDequeNode? = null, var prev: CircularDequeNode? = null) { } class MyCircularDeque(val maxSize: Int, var front: CircularDequeNode? = null, var rear: CircularDequeNode? = null, var currentSize: Int = 0) { fun insertFront(value: Int): Boolean = if (isFull()) false else CircularDequeNode(value).let { temp -> (++currentSize).let { if (front == null) temp.also { front = it }.also { rear = it } else temp.apply { next = front }.also { front!!.prev = it }.also { front = it } } }.let { true } fun insertLast(value: Int): Boolean = if (isFull()) false else CircularDequeNode(value).let { temp -> (++currentSize).let { if (rear == null) temp.also { front = it }.also { rear = it } else temp.apply { prev = rear }.also { rear!!.next = it }.also { rear = it } } }.let { true } fun deleteFront(): Boolean = if (isEmpty()) false else (if (currentSize == 1) null.also { front = it }.also { rear = it } else front?.next.also { front = it }).let { currentSize-- }.let { true } fun deleteLast(): Boolean = if (isEmpty()) false else (if (currentSize == 1) null.also { front = it }.also { rear = it } else rear?.prev.also { rear = it }).let { currentSize-- }.let { true } fun getFront(): Int = if (isEmpty()) -1 else front!!.`val` fun getRear(): Int = if (isEmpty()) -1 else rear!!.`val` fun isEmpty(): Boolean = currentSize == 0 fun isFull(): Boolean = currentSize == maxSize }